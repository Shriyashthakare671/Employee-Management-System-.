{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useHistory } from \"react-router-dom\";\nimport './index.css';\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nfunction Login() {\n  _s();\n  const history = useHistory();\n  const [credentials, setCredentials] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [message, setMessage] = useState(\"\");\n  var url = \"http://127.0.0.1:9900/signin\";\n  useEffect(() => {\n    if (message !== \"\") {\n      setTimeout(() => {\n        setMessage(\"\");\n      }, 3000);\n    }\n  }, [message]);\n  const clearText = () => {\n    setCredentials({\n      username: \"\",\n      password: \"\"\n    });\n  };\n  const doLogin = () => {\n    debugger;\n    axios.post(url, credentials).then(result => {\n      debugger;\n      if (result.data.message === \"failure\") {\n        setMessage(\"something wrong with server / credentials\");\n        clearText();\n      } else {\n        sessionStorage.setItem(\"jwtoken\", result.data.jwtoken);\n        history.push(\"/db\");\n      }\n    });\n  };\n}\n_s(Login, \"ZbhNcLm8bcEb5D9DdI4YYHxjztQ=\", false, function () {\n  return [useHistory];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useHistory","useState","useEffect","axios","Login","_s","history","credentials","setCredentials","username","password","message","setMessage","url","setTimeout","clearText","doLogin","post","then","result","data","sessionStorage","setItem","jwtoken","push","_c","$RefreshReg$"],"sources":["/home/sunbeam/Web_Programming/EmployeeRecords(Fun Comp)/Client/src/login.js"],"sourcesContent":["import { useHistory } from \"react-router-dom\";\nimport './index.css';\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\n\nfunction Login() {\n    const history = useHistory();\n    const [credentials, setCredentials] = useState({username : \"\", password : \"\"});\n    const [message, setMessage] = useState(\"\");\n\n    var url =\"http://127.0.0.1:9900/signin\";\n\n    useEffect(() =>\n    {\n        if(message!==\"\")\n            {\n                setTimeout(()=>\n                {\n                    setMessage(\"\");\n                }, 3000);\n            }\n    }, [message]);\n\n    const clearText = ()=>{\n        setCredentials({username : \"\", password : \"\"});\n    }\n\n    const doLogin = ()=>\n        {debugger;\n       \n            axios.post(url, credentials).then((result)=>\n            {\n                debugger;\n                if(result.data.message===\"failure\")\n                    {\n                        setMessage(\"something wrong with server / credentials\");\n                        clearText();\n                    }\n                else\n                {\n                    sessionStorage.setItem(\"jwtoken\", result.data.jwtoken);\n                    history.push(\"/db\");\n                }\n            })\n        }\n\n\n}\n\nexport default Login;"],"mappings":";AAAA,SAASA,UAAU,QAAQ,kBAAkB;AAC7C,OAAO,aAAa;AACpB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,OAAO,GAAGN,UAAU,CAAC,CAAC;EAC5B,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC;IAACQ,QAAQ,EAAG,EAAE;IAAEC,QAAQ,EAAG;EAAE,CAAC,CAAC;EAC9E,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAE1C,IAAIY,GAAG,GAAE,8BAA8B;EAEvCX,SAAS,CAAC,MACV;IACI,IAAGS,OAAO,KAAG,EAAE,EACX;MACIG,UAAU,CAAC,MACX;QACIF,UAAU,CAAC,EAAE,CAAC;MAClB,CAAC,EAAE,IAAI,CAAC;IACZ;EACR,CAAC,EAAE,CAACD,OAAO,CAAC,CAAC;EAEb,MAAMI,SAAS,GAAGA,CAAA,KAAI;IAClBP,cAAc,CAAC;MAACC,QAAQ,EAAG,EAAE;MAAEC,QAAQ,EAAG;IAAE,CAAC,CAAC;EAClD,CAAC;EAED,MAAMM,OAAO,GAAGA,CAAA,KACZ;IAAC;IAEGb,KAAK,CAACc,IAAI,CAACJ,GAAG,EAAEN,WAAW,CAAC,CAACW,IAAI,CAAEC,MAAM,IACzC;MACI;MACA,IAAGA,MAAM,CAACC,IAAI,CAACT,OAAO,KAAG,SAAS,EAC9B;QACIC,UAAU,CAAC,2CAA2C,CAAC;QACvDG,SAAS,CAAC,CAAC;MACf,CAAC,MAEL;QACIM,cAAc,CAACC,OAAO,CAAC,SAAS,EAAEH,MAAM,CAACC,IAAI,CAACG,OAAO,CAAC;QACtDjB,OAAO,CAACkB,IAAI,CAAC,KAAK,CAAC;MACvB;IACJ,CAAC,CAAC;EACN,CAAC;AAGT;AAACnB,EAAA,CA1CQD,KAAK;EAAA,QACMJ,UAAU;AAAA;AAAAyB,EAAA,GADrBrB,KAAK;AA4Cd,eAAeA,KAAK;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}